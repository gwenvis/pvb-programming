# This is a basic workflow to help you get started with Actions

name: CI

on:
  push:
    branches: [ master, develop ]
  pull_request:
    branches: [ master, develop ]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2

    - name: Unity - Builder
      uses: webbertakken/unity-builder@v0.12
      env:
        UNITY_EMAIL: ${{ secrets.UNITY_EMAIL }}
        UNITY_PASSWORD: ${{ secrets.UNITY_PASSWORD }}
        UNITY_SERIAL: ${{ secrets.UNITY_SERIAL }} 
      with:
        # Version of unity to use for building the project.
        unityVersion: 2019.3.7f1
        # Platform that the build should target.
        targetPlatform: StandaloneWindows
        # Relative path to the project to be built.
        projectPath: .
      
    - name: Upload artifact
      uses: actions/upload-artifact@v1.0.0
      with:
        name: Build
        path: build
